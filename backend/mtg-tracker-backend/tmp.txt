 Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE game (
          id integer GENERATED BY DEFAULT AS IDENTITY,
          num_players integer NOT NULL,
          num_turns integer NOT NULL,
          minutes integer NOT NULL,
          created_at timestamp with time zone NOT NULL DEFAULT (NOW()),
          CONSTRAINT pk_game PRIMARY KEY (id)
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE users (
          id integer GENERATED BY DEFAULT AS IDENTITY,
          username text NOT NULL,
          email text NOT NULL,
          password text NOT NULL,
          profile text,
          CONSTRAINT pk_users PRIMARY KEY (id)
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE room (
          id integer GENERATED BY DEFAULT AS IDENTITY,
          game_id integer NOT NULL,
          code text NOT NULL,
          created_at timestamp with time zone NOT NULL DEFAULT (NOW()),
          CONSTRAINT pk_room PRIMARY KEY (id),
          CONSTRAINT fk_room_game_game_id FOREIGN KEY (game_id) REFERENCES game (id) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE deck (
          id integer GENERATED BY DEFAULT AS IDENTITY,
          user_id integer NOT NULL,
          commander text NOT NULL,
          moxfield text NOT NULL,
          num_games integer NOT NULL,
          num_wins integer NOT NULL,
          CONSTRAINT pk_deck PRIMARY KEY (id),
          CONSTRAINT fk_deck_users_user_id FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE friend_requests (
          id integer GENERATED BY DEFAULT AS IDENTITY,
          uid1 integer NOT NULL,
          uid2 integer NOT NULL,
          requester integer NOT NULL,
          CONSTRAINT pk_friend_requests PRIMARY KEY (id),
          CONSTRAINT "CK_Uid_Order" CHECK (uid1 < uid2),
          CONSTRAINT fk_friend_requests_users_uid1 FOREIGN KEY (uid1) REFERENCES users (id) ON DELETE CASCADE,
          CONSTRAINT fk_friend_requests_users_uid2 FOREIGN KEY (uid2) REFERENCES users (id) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE stat_snapshots (
          id integer GENERATED BY DEFAULT AS IDENTITY,
          user_id integer NOT NULL,
          games_played integer NOT NULL,
          games_won integer NOT NULL,
          num_decks integer NOT NULL,
          current_win_streak integer NOT NULL,
          current_loss_streak integer NOT NULL,
          longest_win_streak integer NOT NULL,
          longest_loss_streak integer NOT NULL,
          created_at timestamp with time zone NOT NULL DEFAULT (NOW()),
          CONSTRAINT pk_stat_snapshots PRIMARY KEY (id),
          CONSTRAINT fk_stat_snapshots_users_user_id FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE user_user (
          friends_id integer NOT NULL,
          user_id integer NOT NULL,
          CONSTRAINT pk_user_user PRIMARY KEY (friends_id, user_id),
          CONSTRAINT fk_user_user_users_friends_id FOREIGN KEY (friends_id) REFERENCES users (id) ON DELETE CASCADE,
          CONSTRAINT fk_user_user_users_user_id FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE game_participation (
          id integer GENERATED BY DEFAULT AS IDENTITY,
          user_id integer NOT NULL,
          game_id integer NOT NULL,
          deck_id integer NOT NULL,
          won boolean NOT NULL,
          CONSTRAINT pk_game_participation PRIMARY KEY (id),
          CONSTRAINT fk_game_participation_deck_deck_id FOREIGN KEY (deck_id) REFERENCES deck (id) ON DELETE CASCADE,
          CONSTRAINT fk_game_participation_game_game_id FOREIGN KEY (game_id) REFERENCES game (id) ON DELETE CASCADE,
          CONSTRAINT fk_game_participation_users_user_id FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE
      );